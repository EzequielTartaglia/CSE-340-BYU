<!-- Assignment 6 -->
<div class="title-container">
    <% if (title) { %>
        <div class="content__heading"><h1><%= title %></h1></div>
        <%- messages() %>
        <% } else {
            res.redirect('/')
        } %>
</div>

<div class="main">
    <div class="cse-motor__form-container form-container">
        <form action="/maintenance/add-record" method="post" class="cse-motor__form" id="maintenanceAddForm">
            <div class="cse-motor-form__container">
                <fieldset>
                    <legend>Maintenance History</legend>

                    <div class="cse-motor-form__field">
                        <label for="maintenance_date" class="form__label">Maintenance Date:</label>
                        <input
                            type="date"
                            name="maintenance_date"
                            class="form__input"
                            required
                        />
                    </div>

                    <div class="cse-motor-form__field">
                        <label for="maintenance_type" class="form__label">Maintenance Type:</label>
                        <input
                            type="text"
                            name="maintenance_type"
                            class="form__input"
                            required
                        />
                    </div>

                    <div class="cse-motor-form__field">
                        <label for="maintenance_description" class="form__label">Maintenance Description:</label>
                        <textarea
                            name="maintenance_description"
                            class="form__input"
                            required
                            placeholder="A detailed description of the maintenance"
                        ></textarea>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Mechanic Information</legend>

                    <div class="cse-motor-form__field">
                        <label for="mechanic_id" class="form__label">Mechanic Name:</label>
                        <%= await Util.buildMechanicList(selectedMechanic) %>
                    </div>

                    <div class="cse-motor-form__field">
                        <label for="cost" class="form__label">Cost:</label>
                        <input
                            type="number"
                            name="cost"
                            class="form__input"
                            step="0.01"
                            required
                        />
                    </div>

                    <div class="cse-motor-form__field">
                        <label for="parts_replaced" class="form__label">Parts Replaced:</label>
                        <input
                            type="text"
                            name="parts_replaced"
                            class="form__input"
                        />
                    </div>

                    <div class="cse-motor-form__field">
                        <label for="notes" class="form__label">Notes:</label>
                        <textarea
                            name="notes"
                            class="form__input"
                            placeholder="Any additional notes"
                        ></textarea>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Vehicle Information</legend>

                    <div class="cse-motor-form__field">
                        <label for="inv_id" class="form__label">Vehicle:</label>
                        <%= await Util.buildMakeModelList(selectedMakeModel) %>
                    </div>

                    <div class="cse-motor-form__field">
                        <label for="status_id" class="form__label">Status:</label>
                        <%= await Util.buildStatusSelectList(selectedStatus) %>
                    </div>
                </fieldset>

                <button type="submit" class="form__button">Add Maintenance Record</button>
            </div>
        </form>
    </div>
</div>

